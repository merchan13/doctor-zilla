<%= render 'shared/errors', obj: @record %>
<div class="col-md-9 new-panel main-panel">

  <h3 align="center"><strong>Nueva Historia</strong></h3>

  <div class="col-md-12"><hr></div>

  <%= form_for(@record, :html => {class: 'form-horizontal', role: 'form'}) do |f| %>

    <%= f.hidden_field :first_consultation_date, value: Date.today.to_s %>

    <!-- IDENTIFICACIÓN -->
    <div class="form-group col-md-12">
      <div class="col-md-12">
        <%= f.label :identificación, class: 'form-control-label' %>
      </div>
      <div class="col-md-1">
        <select class="form-control" name="medical_record[document_type]" id="medical_record_document_type">
          <option value="V">V</option>
          <option value="E">E</option>
          <option value="P">P</option>
        </select>
      </div>
      <div class="col-md-3">
        <%= f.text_field :document, class: 'form-control', placeholder: 'Número de identificación', autofocus: true %>
      </div>
    </div>

    <!-- NOMBRES -->
    <div class="form-group col-md-12">
      <div class="col-md-4">
        <%= f.label :nombres, class: 'form-control-label' %>
        <%= f.text_field :name, class: 'form-control', placeholder: 'Nombres del paciente', autofocus: true %>
      </div>
      <div class="col-md-4">
        <%= f.label :apellidos, class: 'form-control-label' %>
        <%= f.text_field :last_name, class: 'form-control', placeholder: 'Apellidos del paciente', autofocus: true %>
      </div>
    </div>

    <!-- PROFESION / FECHA DE NACIMIENTO -->
    <div class="form-group col-md-12">
      <div class="col-md-4">
        <%= f.label :profesión, class: 'form-control-label' %>
        <%= f.select :occupation_id, options_from_collection_for_select(Occupation.all, :id, :name), {include_blank: 'N/A'}, class: 'form-control' %>
      </div>
      <div class="col-md-3">
        <%= f.label :fecha_de_nacimiento, class: 'form-control-label' %>
        <%= f.text_field :birth_date, class: 'form-control', "data-provide" => 'datepicker', "data-date-format" => 'yyyy/mm/dd' %>
      </div>
      <div class="col-md-5">
        <%= f.label :edad, class: 'form-control-label' %>
        <p>XX Años</p>
      </div>
    </div>

    <!-- SEXO -->
    <div class="form-group col-md-12">
      <div class="col-md-12">
        <%= f.label :sexo, class: 'form-control-label' %>
      </div>
      <div class="form-check col-md-2">
        <%= f.radio_button :gender, 'masculine', class: 'form-check-input' , :checked => true %>
        <small><strong>Masculino</strong></small>
      </div>
      <div class="form-check col-md-2">
        <%= f.radio_button :gender, 'femenine', class: 'form-check-input' %>
        <small><strong>Femenino</strong></small>
      </div>
    </div>

    <div class="col-md-12"><hr></div>

    <!-- TELÉFONOS / EMAIL -->
    <div class="form-group col-md-12">
      <div class="col-md-4">
        <%= f.label :teléfono_casa, class: 'form-control-label' %>
        <%= f.text_field :phone_number, class: 'form-control', placeholder: 'Teléfono fijo del paciente', autofocus: true %>
      </div>
      <div class="col-md-4">
        <%= f.label :teléfono_celular, class: 'form-control-label' %>
        <%= f.text_field :cellphone_number, class: 'form-control', placeholder: 'Teléfono celular del paciente', autofocus: true %>
      </div>
      <div class="col-md-4">
        <%= f.label :email, class: 'form-control-label' %>
        <%= f.text_field :email, class: 'form-control', placeholder: 'Correo electrónico del paciente', autofocus: true %>
      </div>
    </div>

    <!-- DIRECCIÓN -->
    <div class="form-group col-md-12">
      <div class="col-md-12">
        <%= f.label :dirección_de_habitación, class: 'form-control-label' %>
        <%= f.text_field :address, class: 'form-control', placeholder: 'Dirección completa del paciente' %>
      </div>
    </div>

    <div class="col-md-12"><hr></div>

    <!-- REFERENCIA / SEGURO -->
    <div class="form-group col-md-12">
      <div class="col-md-4">
        <%= f.label :referido_por, class: 'form-control-label' %>
        <%= f.text_field :referred_by, class: 'form-control', placeholder: 'Persona que refirió al paciente' %>
      </div>
      <div class="col-md-4">
        <%= f.label :seguro, class: 'form-control-label' %>
        <%= f.select :insurance_id, options_from_collection_for_select(Insurance.all, :id, :name), {include_blank: 'N/A'}, class: 'form-control' %>
      </div>
    </div>

    <div class='form-group center'>
      <div class='col-md-offset-4 col-md-4'>
        <%= f.submit class: 'btn btn-primary btn-lg' %>
      </div>
    </div>
  <% end %>
</div>

<div class="col-md-2 new-panel secondary-panel">
  <p>Perfil paciente</p>
</div>

<div class="col-xs-4 col-xs-offset-4">
  [ <%= link_to 'Cancel request an return to records listing', medical_records_path  %> ]
</div>
